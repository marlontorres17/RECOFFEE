<body>
    <div class="container">
        <h2 class="title">Persons</h2>

        <form #personForm="ngForm" (ngSubmit)="onSubmit(personForm)" class="form">
            <input type="hidden" name="id" [(ngModel)]="person.id">

            <div class="form-group">
                <label for="firtsName">First Name:</label>
                <input type="text" id="firtsName" name="firtsName" [(ngModel)]="person.firtsName" required class="input-field">
                <i class="icon icon-user"></i>
            </div>

            <div class="form-group">
                <label for="secondName">Second Name:</label>
                <input type="text" id="secondName" name="secondName" [(ngModel)]="person.secondName" class="input-field">
                <i class="icon icon-user"></i>
            </div>

            <div class="form-group">
                <label for="firstLastName">First Last Name:</label>
                <input type="text" id="firstLastName" name="firstLastName" [(ngModel)]="person.firstLastName" required class="input-field">
                <i class="icon icon-user"></i>
            </div>

            <div class="form-group">
                <label for="secondLastName">Second Last Name:</label>
                <input type="text" id="secondLastName" name="secondLastName" [(ngModel)]="person.secondLastName" class="input-field">
                <i class="icon icon-user"></i>
            </div>

            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" [(ngModel)]="person.email" required class="input-field">
                <i class="icon icon-email"></i>
            </div>

            <div class="form-group">
                <label for="dateOfBirth">Date of Birth:</label>
                <input type="date" id="dateOfBirth" name="dateOfBirth" [(ngModel)]="person.dateOfBirth" required class="input-field">
                <i class="icon icon-calendar"></i>
            </div>

            <div class="form-group">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender" [(ngModel)]="person.gender" required class="input-field">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                <i class="icon icon-gender"></i>
            </div>

            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" [(ngModel)]="person.address" required class="input-field">
                <i class="icon icon-address"></i>
            </div>

            <div class="form-group">
                <label for="typeDocument">Type Document:</label>
                <input type="text" id="typeDocument" name="typeDocument" [(ngModel)]="person.typeDocument" required class="input-field">
                <i class="icon icon-doc-type"></i>
            </div>

            <div class="form-group">
                <label for="numberDocument">Number Document:</label>
                <input type="text" id="numberDocument" name="numberDocument" [(ngModel)]="person.numberDocument" required class="input-field">
                <i class="icon icon-doc-number"></i>
            </div>

            <div class="form-group checkbox-group">
                <label for="state">State:</label>
                <input type="checkbox" id="state" name="state" [(ngModel)]="person.state" class="checkbox-field">
            </div>

            <button type="submit" class="btn btn-primary">Save</button>
        </form>

        <div class="table-wrapper">
            <table *ngIf="persons.length > 0" class="table">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Second Name</th>
                        <th>First Last Name</th>
                        <th>Second Last Name</th>
                        <th>Email</th>
                        <th>Date of Birth</th>
                        <th>Gender</th>
                        <th>Address</th>
                        <th>Type Document</th>
                        <th>Number Document</th>
                        <th>State</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let person of persons">
                        <td>{{ person.firtsName }}</td>
                        <td>{{ person.secondName }}</td>
                        <td>{{ person.firstLastName }}</td>
                        <td>{{ person.secondLastName }}</td>
                        <td>{{ person.email }}</td>
                        <td>{{ person.dateOfBirth | date }}</td>
                        <td>{{ person.gender }}</td>
                        <td>{{ person.address }}</td>
                        <td>{{ person.typeDocument }}</td>
                        <td>{{ person.numberDocument }}</td>
                        <td>{{ person.state ? 'Active' : 'Inactive' }}</td>
                        <td class="actions">
                            <button class="btn-icon edit" (click)="editPerson(person)" title="Edit">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon delete" (click)="deletePerson(person.id)" title="Delete">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <p *ngIf="persons.length === 0" class="no-results">No persons found.</p>
        </div>
    </div>
</body>
